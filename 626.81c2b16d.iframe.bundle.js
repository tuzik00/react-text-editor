"use strict";(self.webpackChunkreact_txt_editor=self.webpackChunkreact_txt_editor||[]).push([[626],{"./src/components/Editor/Editor.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Editor:()=>Editor,default:()=>Editor_Editor});var wrapRegExp=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/wrapRegExp.js"),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),immutable_es=__webpack_require__("./node_modules/immutable/dist/immutable.es.js"),Draft=__webpack_require__("./node_modules/draft-js/lib/Draft.js"),ChangeTypes_ChangeTypes=function(ChangeTypes){return ChangeTypes.INSERT_FRAGMENT="insert-fragment",ChangeTypes.CHANGE_BLOCK_TYPE="change-block-type",ChangeTypes.SPLIT_BLOCK="split-block",ChangeTypes.REMOVE_RANGE="remove-range",ChangeTypes.CHANGE_BLOCK_DATA="change-block-data",ChangeTypes.CHANGE_INLINE_STYLE="change-inline-style",ChangeTypes}({}),BlockTypes=__webpack_require__("./src/constants/BlockTypes.ts"),KeyCommands_DELETE="delete",KeyCommands_BACKSPACE="backspace",HandledTypes=function(HandledTypes){return HandledTypes.HANDLED="handled",HandledTypes.NOT_HANDLED="not-handled",HandledTypes}({}),ShortcutKeys={"> ":BlockTypes.P.BLOCKQUOTE,"*. ":BlockTypes.P.UL,"* ":BlockTypes.P.UL,"- ":BlockTypes.P.UL,"1. ":BlockTypes.P.OL,"## ":BlockTypes.P.H2,"### ":BlockTypes.P.H3,"==":BlockTypes.P.UNSTYLED},draftjs_utils=__webpack_require__("./node_modules/draftjs-utils/lib/draftjs-utils.js"),getBlockType=function getBlockType(editorState){var contentState=editorState.getCurrentContent(),anchorKey=editorState.getSelection().getAnchorKey();return contentState.getBlockForKey(anchorKey).getType()},getCurrentBlock=function getCurrentBlock(editorState){var selectionState=editorState.getSelection();return editorState.getCurrentContent().getBlockForKey(selectionState.getStartKey())},addNewBlock=function addNewBlock(editorState){var newType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:BlockTypes.P.UNSTYLED,initialData=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},selectionState=editorState.getSelection();if(!selectionState.isCollapsed())return editorState;var contentState=editorState.getCurrentContent(),currentBlock=getCurrentBlock(editorState);if(!currentBlock)return editorState;if(0===currentBlock.getLength()){if(currentBlock.getType()===newType)return editorState;var newBlock=currentBlock.merge({type:newType,data:initialData}),key=selectionState.getStartKey(),blockMap=contentState.getBlockMap(),newContentState=contentState.merge({blockMap:blockMap.set(key,new Draft.ContentBlock(newBlock)),selectionAfter:selectionState}),newState=Draft.EditorState.push(editorState,new Draft.ContentState(newContentState),ChangeTypes_ChangeTypes.CHANGE_BLOCK_TYPE);return(0,draftjs_utils.insertNewUnstyledBlock)(newState)}return editorState},removeBlock=function removeBlock(editorState,block){var removeDirection=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"backward";if(!block)return editorState;var blockKey=block.getKey(),content=editorState.getCurrentContent(),contentBlock=content.getBlockForKey(blockKey),targetRange=new Draft.SelectionState({anchorKey:blockKey,anchorOffset:0,focusKey:blockKey,focusOffset:contentBlock.getLength()}),withoutTeX=Draft.Modifier.removeRange(content,targetRange,removeDirection),resetBlock=Draft.Modifier.setBlockType(withoutTeX,withoutTeX.getSelectionAfter(),BlockTypes.P.UNSTYLED),newState=Draft.EditorState.push(editorState,resetBlock,ChangeTypes_ChangeTypes.REMOVE_RANGE);return Draft.EditorState.forceSelection(newState,resetBlock.getSelectionAfter())},setBlockData=function setBlockData(editorState,block,blockData){var newContentState,selection=editorState.getSelection(),currentContent=editorState.getCurrentContent(),blockKey=block.getKey(),updatedSelection=selection.merge({focusKey:blockKey,anchorKey:blockKey,focusOffset:0});return newContentState=blockData?Draft.Modifier.mergeBlockData(currentContent,updatedSelection,blockData):Draft.Modifier.setBlockData(currentContent,updatedSelection,(0,immutable_es.Map)({})),Draft.EditorState.push(editorState,newContentState,ChangeTypes_ChangeTypes.CHANGE_BLOCK_DATA)},resetBlockWithType=function resetBlockWithType(editorState){var newType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:BlockTypes.P.UNSTYLED,overrides=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},contentState=editorState.getCurrentContent(),selectionState=editorState.getSelection(),key=selectionState.getStartKey(),blockMap=contentState.getBlockMap(),block=blockMap.get(key),newBlock=null==block?void 0:block.mergeDeep(overrides,{type:newType,data:{}}),newContentState=contentState.merge({blockMap:blockMap.set(key,new Draft.ContentBlock(newBlock)),selectionAfter:selectionState.merge({anchorOffset:0,focusOffset:0})});return Draft.EditorState.push(editorState,new Draft.ContentState(newContentState),ChangeTypes_ChangeTypes.CHANGE_BLOCK_TYPE)},InlineToolbar=__webpack_require__("./src/components/InlineToolbar/InlineToolbar.tsx"),BlockToolbar=__webpack_require__("./src/components/BlockToolbar/BlockToolbar.tsx"),getSelection=function getSelection(root){return root.getSelection?root.getSelection():root.document.getSelection?root.document.getSelection():null},getSelectionEntityType=function getSelectionEntityType(editorState){var selectionEntity=function getSelectionEntity(editorState){var selectionEntityKey=(0,draftjs_utils.getSelectionEntity)(editorState);return selectionEntityKey?editorState.getCurrentContent().getEntity(selectionEntityKey):null}(editorState);return selectionEntity?selectionEntity.getType():""};const useBlockToolbarPosition_useBlockToolbarPosition=function useBlockToolbarPosition(_ref){var editorState=_ref.editorState,isReadOnly=_ref.isReadOnly,toolbarRef=_ref.toolbarRef,targetRef=(0,react.useRef)(),_useState=(0,react.useState)(-10),_useState2=(0,slicedToArray.Z)(_useState,2),topPosition=_useState2[0],setTopPosition=_useState2[1],_useState3=(0,react.useState)(!1),_useState4=(0,slicedToArray.Z)(_useState3,2),isVisible=_useState4[0],setVisible=_useState4[1],setTop=(0,react.useCallback)((function(){var _targetRef$current,_toolbarRef$current;targetRef.current=function getSelectedBlockNode(root){var _selection$getRangeAt,selection=getSelection(root);if(null==selection||!selection.anchorNode)return null;var node=null==selection||null===(_selection$getRangeAt=selection.getRangeAt(0))||void 0===_selection$getRangeAt?void 0:_selection$getRangeAt.startContainer;return null!=node&&node.closest?node.closest("[data-offset-key]"):null}(window);var parrentElementRef=null==targetRef||null===(_targetRef$current=targetRef.current)||void 0===_targetRef$current?void 0:_targetRef$current.closest('[data-contents="true"] > *');if(targetRef.current&&parrentElementRef){var relativeOffset=parrentElementRef.offsetTop+parrentElementRef.clientHeight/2-((null===(_toolbarRef$current=toolbarRef.current)||void 0===_toolbarRef$current?void 0:_toolbarRef$current.clientHeight)||0)/2;setTopPosition(relativeOffset)}}),[toolbarRef]);return(0,react.useEffect)((function(){var selectionState=editorState.getSelection(),anchorKey=selectionState.getAnchorKey(),blockForKey=editorState.getCurrentContent().getBlockForKey(anchorKey),blockType=(0,draftjs_utils.getSelectedBlocksType)(editorState);isReadOnly||!selectionState.isCollapsed()||anchorKey!==selectionState.getFocusKey()||blockForKey.getLength()>0||blockType!==BlockTypes.P.UNSTYLED?isVisible&&setVisible(!1):(isVisible||setVisible(!0),setTop())}),[editorState,isVisible,isReadOnly,setTop]),(0,react.useMemo)((function(){return{isVisible,position:{top:topPosition,left:0}}}),[isVisible,topPosition])};var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const useBlockToolbar_useBlockToolbar=function useBlockToolbar(_ref){var editorRef=_ref.editorRef,render=_ref.render,isReadOnly=_ref.isReadOnly,editorState=_ref.editorState,setEditorState=_ref.setEditorState,setEditorFocus=_ref.setEditorFocus,blockRenderMap=_ref.blockRenderMap,toolbarRef=(0,react.useRef)(null),_useBlockToolbarPosit=useBlockToolbarPosition_useBlockToolbarPosition({editorState,isReadOnly,editorRef,toolbarRef}),position=_useBlockToolbarPosit.position,isVisible=_useBlockToolbarPosit.isVisible;(0,react.useEffect)((function(){toolbarRef.current&&(toolbarRef.current.style.transition=".2s all",toolbarRef.current.style.position="absolute",toolbarRef.current.style.zIndex="1",toolbarRef.current.style.left="".concat(position.left,"px"),toolbarRef.current.style.top="".concat(position.top,"px"))}),[toolbarRef,position]);var handleChange=(0,react.useCallback)((function(_ref2){var type=_ref2.type;setEditorState(addNewBlock(editorState,type)),setEditorFocus()}),[editorState,setEditorFocus,setEditorState]),renderBlock=(0,react.useMemo)((function(){return render({onClick:handleChange,buttons:Object.keys(blockRenderMap).map((function(blockType){var block=blockRenderMap[blockType];return{type:blockType,label:block.label,title:block.title}}))})}),[render,handleChange,blockRenderMap]);return(0,jsx_runtime.jsx)("div",{ref:toolbarRef,hidden:!isVisible||isReadOnly,children:renderBlock})};var toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),emotion_element_c39617d8_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-element-c39617d8.browser.esm.js"),useMediaQuery=__webpack_require__("./node_modules/@mui/material/useMediaQuery/useMediaQuery.js"),EntityTypes=__webpack_require__("./src/constants/EntityTypes.ts"),MutabilityTypes=__webpack_require__("./src/constants/MutabilityTypes.ts");const useInlineToolbarPosition_useInlineToolbarPosition=function useInlineToolbarPosition(editorState,toolbarRef){var _useState=(0,react.useState)({left:0,top:0}),_useState2=(0,slicedToArray.Z)(_useState,2),position=_useState2[0],setPosition=_useState2[1];return(0,react.useEffect)((function(){var nativeSelection=getSelection(window);if(null!=nativeSelection&&nativeSelection.rangeCount&&(null==nativeSelection||!nativeSelection.isCollapsed)){var toolbarNode=toolbarRef.current,parentNode=null==toolbarNode?void 0:toolbarNode.parentNode,editorRootNode=null==toolbarNode?void 0:toolbarNode.closest(".".concat("Editor-root"));if(toolbarNode&&parentNode){var selectionBoundary=(0,Draft.getVisibleSelectionRect)(window),parentBoundary=parentNode.getBoundingClientRect(),rootBoundary=editorRootNode.getBoundingClientRect();if(selectionBoundary){var top=parentNode.offsetTop-toolbarNode.offsetHeight+(selectionBoundary.top-parentBoundary.top);setPosition({top,left:function left(){var realLeft=selectionBoundary.left+selectionBoundary.width/2-rootBoundary.left-toolbarNode.offsetWidth/2;return realLeft<0?0:realLeft+toolbarNode.offsetWidth>parentBoundary.right?parentBoundary.right-toolbarNode.offsetWidth:realLeft}()})}}}}),[editorState,toolbarRef]),position};var _templateObject,ActionType=function(ActionType){return ActionType[ActionType.BLOCK=0]="BLOCK",ActionType[ActionType.ENTITY=1]="ENTITY",ActionType[ActionType.INLINE=2]="INLINE",ActionType}({}),resetStyles=function resetStyles(ref){ref.style.position="auto",ref.style.bottom="auto",ref.style.top="auto",ref.style.transform="auto"},taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js");const Wrapper=emotion_styled_browser_esm.Z.div((function getMobileStyles(_ref){var _theme$breakpoints,_theme$breakpoints$do,theme=_ref.theme;return(0,emotion_react_browser_esm.iv)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n    "," {\n        width: 100vw;\n        overflow-x: scroll;\n        text-align: center;\n\n        & > * {\n            margin: auto;\n        }\n    }\n"])),null==theme||null===(_theme$breakpoints=theme.breakpoints)||void 0===_theme$breakpoints||null===(_theme$breakpoints$do=_theme$breakpoints.down)||void 0===_theme$breakpoints$do?void 0:_theme$breakpoints$do.call(_theme$breakpoints,"tablet"))}));const useInlineToolbar_useInlineToolbar=function useInlineToolbar(_ref){var _theme$breakpoints,_theme$breakpoints$do,render=_ref.render,isReadOnly=_ref.isReadOnly,editorState=_ref.editorState,setEditorState=_ref.setEditorState,setEditorFocus=_ref.setEditorFocus,_ref$availableButtons=_ref.availableButtons,availableButtons=void 0===_ref$availableButtons?[]:_ref$availableButtons,blockKeys=_ref.blockKeys,toolbarRef=(0,react.useRef)(null),position=useInlineToolbarPosition_useInlineToolbarPosition(editorState,toolbarRef),theme=(0,emotion_element_c39617d8_browser_esm.u)(),isMobile=(0,useMediaQuery.Z)((null==theme||null===(_theme$breakpoints=theme.breakpoints)||void 0===_theme$breakpoints||null===(_theme$breakpoints$do=_theme$breakpoints.down)||void 0===_theme$breakpoints$do?void 0:_theme$breakpoints$do.call(_theme$breakpoints,"tablet"))||"");(0,react.useEffect)((function(){toolbarRef.current&&(isMobile?function setMobileOffset(ref){resetStyles(ref),ref.style.transition=".2s all",ref.style.position="fixed",ref.style.zIndex="1",ref.style.left="0px",ref.style.bottom="0px"}(toolbarRef.current):function setDesktopOffset(ref,position){resetStyles(ref),ref.style.transition=".2s all",ref.style.position="absolute",ref.style.zIndex="1",ref.style.left="".concat(position.left,"px"),ref.style.top="".concat(position.top,"px")}(toolbarRef.current,position))}),[isMobile,toolbarRef,position]);var isVisible=(0,react.useMemo)((function(){return!editorState.getSelection().isCollapsed()&&!function isCustomBlockType(editorState,blocks){var blockType=getBlockType(editorState);return blocks.includes(blockType)}(editorState,blockKeys)&&function getSelectionContentSize(editorState){var selectionState=editorState.getSelection(),anchorKey=selectionState.getAnchorKey(),currentContentBlock=editorState.getCurrentContent().getBlockForKey(anchorKey),start=selectionState.getStartOffset(),end=selectionState.getEndOffset();return currentContentBlock.getText().slice(start,end).length}(editorState)>0}),[blockKeys,editorState]),activeSelection=(0,react.useMemo)((function(){return[getSelectionEntityType(editorState),(0,draftjs_utils.getSelectedBlocksType)(editorState)].concat((0,toConsumableArray.Z)(function getSelectionInlineStylesType(editorState){var selectionInlineStyle=(0,draftjs_utils.getSelectionInlineStyle)(editorState);return Object.keys(selectionInlineStyle).filter((function(item){return selectionInlineStyle[item]}))}(editorState))).filter(Boolean)}),[editorState]),handleChange=(0,react.useCallback)((function(_ref2){var actionType=_ref2.actionType,type=_ref2.type,_ref2$data=_ref2.data,url=(void 0===_ref2$data?{url:""}:_ref2$data).url;switch(actionType){case ActionType.INLINE:setEditorState(Draft.RichUtils.toggleInlineStyle(editorState,type));break;case ActionType.BLOCK:setEditorState(Draft.RichUtils.toggleBlockType(editorState,type));break;case ActionType.ENTITY:type===EntityTypes.D.LINK&&setEditorState(function toggleEntityLink(editorState,url){if(!url)return Draft.RichUtils.toggleLink(editorState,editorState.getSelection(),null);var contentStateWithEntity=editorState.getCurrentContent().createEntity(EntityTypes.D.LINK,MutabilityTypes.m.MUTABLE,{url}),entityKey=contentStateWithEntity.getLastCreatedEntityKey(),newEditorState=Draft.EditorState.set(editorState,{currentContent:contentStateWithEntity});return Draft.RichUtils.toggleLink(newEditorState,newEditorState.getSelection(),entityKey)}(editorState,url))}setEditorFocus()}),[setEditorFocus,setEditorState,editorState]),renderContent=(0,react.useMemo)((function(){return render&&render({selectedButtons:activeSelection,onToggle:handleChange,availableButtons})}),[render,activeSelection,handleChange,availableButtons]);return(0,jsx_runtime.jsx)(Wrapper,{ref:toolbarRef,hidden:!isVisible||isReadOnly,children:renderContent})};var context=__webpack_require__("./src/components/Editor/hooks/useEditor/context.ts"),isEmpty=__webpack_require__("./node_modules/lodash/isEmpty.js"),isEmpty_default=__webpack_require__.n(isEmpty),IconDelete=__webpack_require__("./src/components/Icons/list/IconDelete.tsx"),useEditor=__webpack_require__("./src/components/Editor/hooks/useEditor/useEditor.ts"),BlockOptions=__webpack_require__("./src/components/BlockOptions/BlockOptions.tsx"),DISABLED_EDITOR_FIELDS=["INPUT","TEXTAREA"],withBlockAdapter=function withBlockAdapter(_ref,_ref2){var element=_ref.element,setupElement=_ref.setupElement,isDisabled=_ref2.isDisabled,blockType=_ref2.blockType,Wrapper=function Wrapper(_ref3){var _block$getData,block=_ref3.block,blockData=null==block||null===(_block$getData=block.getData())||void 0===_block$getData?void 0:_block$getData.toJS(),_useState=(0,react.useState)(isEmpty_default()(blockData)&&!!setupElement),_useState2=(0,slicedToArray.Z)(_useState,2),isShowSetup=_useState2[0],setShowSetup=_useState2[1],_useEditor=(0,useEditor.Z)(),editorState=_useEditor.editorState,setReadOnly=_useEditor.setReadOnly,setEditorState=_useEditor.setEditorState,handleRemoveBlock=(0,react.useCallback)((function(){setEditorState(removeBlock(editorState,block))}),[editorState,setEditorState,block]),handleCreate=(0,react.useCallback)((function(params){setShowSetup(!1),setEditorState(addNewBlock(setBlockData(editorState,block,params),blockType,params))}),[block,editorState,setEditorState]),handleSetBlockData=(0,react.useCallback)((function(data){isEmpty_default()(blockData)&&!setupElement&&handleCreate(data);var newEditorState=setBlockData(editorState,block,data);setEditorState(newEditorState)}),[block,blockData,editorState,handleCreate,setEditorState]),render=(0,react.useMemo)((function(){if(setupElement&&isShowSetup){var SetupElement=setupElement;return(0,jsx_runtime.jsx)(SetupElement,{data:blockData,editorState,setEditorState,onCreate:handleCreate})}if(!element)return null;var Element=element;return(0,jsx_runtime.jsx)(Element,{data:blockData,isDisabled,editorState,setEditorState,onUpdate:function onUpdate(params){handleSetBlockData(params)},onShowSetupElement:function onShowSetupElement(){setShowSetup(!0)}})}),[isShowSetup,blockData,editorState,setEditorState,handleCreate,handleSetBlockData]),handleActivateEditor=(0,react.useCallback)((function(e){DISABLED_EDITOR_FIELDS.includes(e.target.tagName)&&setReadOnly(!1)}),[setReadOnly]),handleDeactivateEditor=(0,react.useCallback)((function(e){DISABLED_EDITOR_FIELDS.includes(e.target.tagName)&&setReadOnly(!0)}),[setReadOnly]),menuList=[{title:"Удалить",icon:(0,jsx_runtime.jsx)(IconDelete.Z,{}),action:handleRemoveBlock}];return render?(0,jsx_runtime.jsx)("div",{onFocus:handleDeactivateEditor,onBlur:handleActivateEditor,children:isDisabled?render:(0,jsx_runtime.jsx)(BlockOptions.Z,{itemsList:menuList,children:render})}):null};return(0,react.memo)(Wrapper)},objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),useDebouncedCallback=__webpack_require__("./node_modules/use-debounce/esm/useDebouncedCallback.js"),draftToBlocks=__webpack_require__("./src/utils/contentConverter/draftToBlocks.ts"),utils=__webpack_require__("./src/utils/contentConverter/utils.ts"),blocksToDraft=__webpack_require__("./src/utils/contentConverter/blocksToDraft.ts"),_excluded=["contentType","content","blockRenderMap","onChange"],headingTypes=[BlockTypes.P.H1,BlockTypes.P.H2,BlockTypes.P.H3,BlockTypes.P.H4,BlockTypes.P.H5,BlockTypes.P.H6],getHeadings=function getHeadings(rawState){var headings=[];return rawState.blocks.forEach((function(block){headingTypes.includes(block.type)&&headings.push(block.text)})),headings};const withContentAdapter_withContentAdapter=function withContentAdapter(Component){return function Wrapper(_ref){var _ref$contentType=_ref.contentType,contentType=void 0===_ref$contentType?"md":_ref$contentType,_ref$content=_ref.content,content=void 0===_ref$content?"":_ref$content,blockRenderMap=_ref.blockRenderMap,_ref$onChange=_ref.onChange,onChange=void 0===_ref$onChange?function(){}:_ref$onChange,props=(0,objectWithoutProperties.Z)(_ref,_excluded),handleDebouncedChangeState=(0,useDebouncedCallback.Z)((function(rawState){try{var blocks=(0,draftToBlocks.Z)(rawState,contentType,blockRenderMap);if("md"===contentType)return void onChange((0,utils.KB)(blocks),getHeadings(rawState),rawState);onChange(blocks,getHeadings(rawState),rawState)}catch(e){console.warn(e)}}),300),editorState=(0,react.useMemo)((function(){try{return null!=content&&content.length?"md"===contentType?(0,utils.qw)(content):(0,utils.Tu)(content)?(0,blocksToDraft.Z)(content):(0,blocksToDraft.Z)([]):(0,blocksToDraft.Z)([])}catch(e){return(0,utils.qw)("error content state")}}),[contentType,content]);return(0,jsx_runtime.jsx)(Component,(0,objectSpread2.Z)((0,objectSpread2.Z)({},props),{},{content:editorState,blockRenderMap,onChange:handleDebouncedChangeState}))}};var Container_templateObject,_templateObject2,_templateObject3,constants=__webpack_require__("./src/components/Editor/hocs/withCustomTheme/constants.ts"),withCustomTheme_excluded=["theme"],withCustomTheme=function withCustomTheme(Component){return function(_ref){var _ref$theme=_ref.theme,theme=void 0===_ref$theme?constants.v:_ref$theme,componentProps=(0,objectWithoutProperties.Z)(_ref,withCustomTheme_excluded);return(0,jsx_runtime.jsx)(emotion_element_c39617d8_browser_esm.a,{theme,children:(0,jsx_runtime.jsx)(Component,(0,objectSpread2.Z)({},componentProps))})}};try{withCustomTheme.displayName="withCustomTheme",withCustomTheme.__docgenInfo={description:"",displayName:"withCustomTheme",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Editor/hocs/withCustomTheme/withCustomTheme.tsx#withCustomTheme"]={docgenInfo:withCustomTheme.__docgenInfo,name:"withCustomTheme",path:"src/components/Editor/hocs/withCustomTheme/withCustomTheme.tsx#withCustomTheme"})}catch(__react_docgen_typescript_loader_error){}var defaultStyles=(0,emotion_react_browser_esm.iv)(Container_templateObject||(Container_templateObject=(0,taggedTemplateLiteral.Z)(["\n    position: relative;\n"])));const Container=(0,emotion_styled_browser_esm.Z)("div")([defaultStyles,function asideStyles(_ref2){var _theme$breakpoints,_theme$breakpoints$up,_ref2$isShowAside=_ref2.isShowAside,isShowAside=void 0===_ref2$isShowAside||_ref2$isShowAside,theme=_ref2.theme;return isShowAside?(0,emotion_react_browser_esm.iv)(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.Z)(["\n        padding-left: 33px;\n\n        "," {\n            padding-left: 60px;\n        }\n    "])),null==theme||null===(_theme$breakpoints=theme.breakpoints)||void 0===_theme$breakpoints||null===(_theme$breakpoints$up=_theme$breakpoints.up)||void 0===_theme$breakpoints$up?void 0:_theme$breakpoints$up.call(_theme$breakpoints,"tablet")):""},function scrollStyles(_ref){var maxHeight=_ref.maxHeight;return maxHeight?(0,emotion_react_browser_esm.iv)(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n        overflow-x: auto;\n        max-height: ","px;\n    "])),maxHeight):""}]);var Placeholder_templateObject;const Placeholder=(0,emotion_styled_browser_esm.Z)("div")([function placeholderStyles(_ref){var _ref$isShow=_ref.isShow,isShow=void 0===_ref$isShow||_ref$isShow;return(0,emotion_react_browser_esm.iv)(Placeholder_templateObject||(Placeholder_templateObject=(0,taggedTemplateLiteral.Z)(["\n    & ."," {\n        position: relative;\n    }\n\n    & .","."," {\n        display: none;\n    }\n\n    & ."," {\n        display: ",";\n        position: absolute;\n        pointer-events: none;\n        color: #B4B4B4;\n        top: 50%;\n        transform: translate(5px, -50%);\n    }\n"])),"DraftEditor-root","public-DraftEditorPlaceholder-root","public-DraftEditorPlaceholder-hasFocus","public-DraftEditorPlaceholder-root",isShow?"block":"none")}]);var _customBlockStyleRend,defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),Box=__webpack_require__("./node_modules/@mui/material/Box/Box.js"),Typography=__webpack_require__("./node_modules/@mui/material/Typography/Typography.js"),IconBorderedBlockquote=__webpack_require__("./src/components/Icons/list/IconBorderedBlockquote.tsx"),IconBorderedConclusion=__webpack_require__("./src/components/Icons/list/IconBorderedConclusion.tsx"),customBlockStyleRenderMap_excluded=["children"],_excluded2=["children"],_excluded3=["children"],_excluded4=["children"],_excluded5=["children"],_excluded6=["children"],_excluded7=["children"],_excluded8=["children"],_excluded9=["children"],_excluded10=["children"],_excluded11=["children"],LineBreak=function LineBreak(_ref){var children=_ref.children;return(0,jsx_runtime.jsx)(Box.Z,{sx:{mb:2},children})},customBlockStyleRenderMap=(_customBlockStyleRend={},(0,defineProperty.Z)(_customBlockStyleRend,BlockTypes.P.UNSTYLED,{element:function element(_ref2){var children=_ref2.children,other=(0,objectWithoutProperties.Z)(_ref2,customBlockStyleRenderMap_excluded);return(0,jsx_runtime.jsx)(LineBreak,{children:(0,jsx_runtime.jsx)(Typography.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({},other),{},{component:"div",children}))})}}),(0,defineProperty.Z)(_customBlockStyleRend,BlockTypes.P.H1,{element:function element(_ref3){var children=_ref3.children,other=(0,objectWithoutProperties.Z)(_ref3,_excluded2);return(0,jsx_runtime.jsx)(LineBreak,{children:(0,jsx_runtime.jsx)(Typography.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({},other),{},{variant:"h1",component:"div",children}))})}}),(0,defineProperty.Z)(_customBlockStyleRend,BlockTypes.P.H2,{element:function element(_ref4){var children=_ref4.children,other=(0,objectWithoutProperties.Z)(_ref4,_excluded3);return(0,jsx_runtime.jsx)(LineBreak,{children:(0,jsx_runtime.jsx)(Typography.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({},other),{},{variant:"h2",component:"div",children}))})}}),(0,defineProperty.Z)(_customBlockStyleRend,BlockTypes.P.H3,{element:function element(_ref5){var children=_ref5.children,other=(0,objectWithoutProperties.Z)(_ref5,_excluded4);return(0,jsx_runtime.jsx)(LineBreak,{children:(0,jsx_runtime.jsx)(Typography.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({},other),{},{variant:"h3",component:"div",children}))})}}),(0,defineProperty.Z)(_customBlockStyleRend,BlockTypes.P.H4,{element:function element(_ref6){var children=_ref6.children,other=(0,objectWithoutProperties.Z)(_ref6,_excluded5);return(0,jsx_runtime.jsx)(LineBreak,{children:(0,jsx_runtime.jsx)(Typography.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({},other),{},{variant:"h4",component:"div",children}))})}}),(0,defineProperty.Z)(_customBlockStyleRend,BlockTypes.P.H5,{element:function element(_ref7){var children=_ref7.children,other=(0,objectWithoutProperties.Z)(_ref7,_excluded6);return(0,jsx_runtime.jsx)(LineBreak,{children:(0,jsx_runtime.jsx)(Typography.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({},other),{},{variant:"h5",component:"div",children}))})}}),(0,defineProperty.Z)(_customBlockStyleRend,BlockTypes.P.H6,{element:function element(_ref8){var children=_ref8.children,other=(0,objectWithoutProperties.Z)(_ref8,_excluded7);return(0,jsx_runtime.jsx)(LineBreak,{children:(0,jsx_runtime.jsx)(Typography.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({},other),{},{variant:"h6",component:"div",children}))})}}),(0,defineProperty.Z)(_customBlockStyleRend,BlockTypes.P.BLOCKQUOTE,{element:function element(_ref9){var children=_ref9.children,other=(0,objectWithoutProperties.Z)(_ref9,_excluded8);return(0,jsx_runtime.jsx)(LineBreak,{children:(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",children:[(0,jsx_runtime.jsx)(Box.Z,{children:(0,jsx_runtime.jsx)(IconBorderedBlockquote.Z,{style:{width:75,height:68,marginRight:10}})}),(0,jsx_runtime.jsx)(Typography.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({},other),{},{component:"blockquote",children}))]})})}}),(0,defineProperty.Z)(_customBlockStyleRend,BlockTypes.P.CONCLUSION,{element:function element(_ref10){var children=_ref10.children,other=(0,objectWithoutProperties.Z)(_ref10,_excluded9);return(0,jsx_runtime.jsx)(LineBreak,{children:(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",children:[(0,jsx_runtime.jsx)(Box.Z,{children:(0,jsx_runtime.jsx)(IconBorderedConclusion.Z,{style:{width:64,height:64,marginRight:10}})}),(0,jsx_runtime.jsx)(Typography.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({},other),{},{component:"div",children}))]})})}}),(0,defineProperty.Z)(_customBlockStyleRend,BlockTypes.P.UL,{element:function element(_ref11){var children=_ref11.children,other=(0,objectWithoutProperties.Z)(_ref11,_excluded10);return(0,jsx_runtime.jsx)(Typography.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({},other),{},{component:"li",children}))},wrapper:(0,jsx_runtime.jsx)(Typography.Z,{style:{paddingLeft:"18px"},sx:{mb:2},component:"ul"})}),(0,defineProperty.Z)(_customBlockStyleRend,BlockTypes.P.OL,{element:function element(_ref12){var children=_ref12.children,other=(0,objectWithoutProperties.Z)(_ref12,_excluded11);return(0,jsx_runtime.jsx)(Typography.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({},other),{},{component:"li",children}))},wrapper:(0,jsx_runtime.jsx)(Typography.Z,{style:{paddingLeft:"18px"},sx:{mb:2},component:"ol"})}),_customBlockStyleRend),InlineStyleTypes=__webpack_require__("./src/constants/InlineStyleTypes.ts"),customInlineStyleMap=(0,defineProperty.Z)({},InlineStyleTypes.D.SUPERSCRIPT,{verticalAlign:"super",lineHeight:0,fontSize:"16px"}),customEntityMap=__webpack_require__("./src/components/Editor/customEntityMap.tsx");const decorators_link={strategy:function strategy(contentBlock,callback,contentState){contentBlock.findEntityRanges((function(character){var entityKey=character.getEntity();return!!entityKey&&contentState.getEntity(entityKey).getType()===EntityTypes.D.LINK}),callback)},component:function Component(_ref){var children=_ref.children,contentState=_ref.contentState,entityKey=_ref.entityKey,mergeEntityMap=(0,useEditor.Z)().mergeEntityMap,url=contentState.getEntity(entityKey).getData().url,Link=mergeEntityMap[EntityTypes.D.LINK];return Link?(0,jsx_runtime.jsx)(Link,{href:url,title:url,children}):null}};const directiveLink={strategy:function strategy(contentBlock,callback,contentState){contentBlock.findEntityRanges((function(character){var entityKey=character.getEntity();return!!entityKey&&contentState.getEntity(entityKey).getType()===EntityTypes.D.DIRECTIVE_LINK}),callback)},component:function Component(_ref){var children=_ref.children,contentState=_ref.contentState,entityKey=_ref.entityKey,mergeEntityMap=(0,useEditor.Z)().mergeEntityMap,_ref2=contentState.getEntity(entityKey).getData(),href=_ref2.href,title=_ref2.title,classNames=_ref2.classNames,id=_ref2.id,variant=_ref2.variant,DirectiveLink=mergeEntityMap[EntityTypes.D.DIRECTIVE_LINK];return DirectiveLink?(0,jsx_runtime.jsx)(DirectiveLink,{href,title,classNames,id,variant,children}):null}},decorators=new Draft.CompositeDecorator([decorators_link,directiveLink]);var Editor=function Editor(_ref){var _ref$isDisabled=_ref.isDisabled,isDisabled=void 0!==_ref$isDisabled&&_ref$isDisabled,_ref$isAutoFocus=_ref.isAutoFocus,isAutoFocus=void 0!==_ref$isAutoFocus&&_ref$isAutoFocus,_ref$isShowBlockToolb=_ref.isShowBlockToolbar,isShowBlockToolbar=void 0===_ref$isShowBlockToolb||_ref$isShowBlockToolb,maxHeight=_ref.maxHeight,_ref$placeholder=_ref.placeholder,placeholder=void 0===_ref$placeholder?"Начните вводить текст":_ref$placeholder,_ref$content=_ref.content,content=void 0===_ref$content?{blocks:[],entityMap:{}}:_ref$content,_ref$inlineStyleMap=_ref.inlineStyleMap,inlineStyleMap=void 0===_ref$inlineStyleMap?{}:_ref$inlineStyleMap,_ref$blockStyleRender=_ref.blockStyleRenderMap,blockStyleRenderMap=void 0===_ref$blockStyleRender?{}:_ref$blockStyleRender,_ref$blockRenderMap=_ref.blockRenderMap,blockRenderMap=void 0===_ref$blockRenderMap?{}:_ref$blockRenderMap,_ref$entityMap=_ref.entityMap,entityMap=void 0===_ref$entityMap?{}:_ref$entityMap,_ref$onChange=_ref.onChange,onChange=void 0===_ref$onChange?function(){}:_ref$onChange,_ref$inlineToolbarAva=_ref.inlineToolbarAvailableButtons,inlineToolbarAvailableButtons=void 0===_ref$inlineToolbarAva?[]:_ref$inlineToolbarAva,_ref$renderInlineTool=_ref.renderInlineToolbar,renderInlineToolbar=void 0===_ref$renderInlineTool?function(_ref2){var selectedButtons=_ref2.selectedButtons,availableButtons=_ref2.availableButtons,onToggle=_ref2.onToggle;return(0,jsx_runtime.jsx)(InlineToolbar.Z,{availableButtons,selectedButtons,onToggle})}:_ref$renderInlineTool,_ref$renderBlockToolb=_ref.renderBlockToolbar,renderBlockToolbar=void 0===_ref$renderBlockToolb?function(_ref3){var onClick=_ref3.onClick,buttons=_ref3.buttons;return(0,jsx_runtime.jsx)(BlockToolbar.Z,{buttons,onClick})}:_ref$renderBlockToolb,editorRef=(0,react.useRef)(null),_useState=(0,react.useState)(isDisabled),_useState2=(0,slicedToArray.Z)(_useState,2),isReadOnly=_useState2[0],setReadOnly=_useState2[1],_useState3=(0,react.useState)(!1),_useState4=(0,slicedToArray.Z)(_useState3,2),hasBlock=_useState4[0],setHasBlock=_useState4[1],blockKeys=(0,react.useMemo)((function(){return Object.keys(blockRenderMap)}),[blockRenderMap]),mergeInlineStyleMap=(0,react.useMemo)((function(){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},customInlineStyleMap),inlineStyleMap)}),[inlineStyleMap]),mergeEntityMap=(0,react.useMemo)((function(){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},customEntityMap.q),entityMap)}),[entityMap]),mergeStyleBlockRenderMap=(0,react.useMemo)((function(){return Draft.DefaultDraftBlockRenderMap.merge((0,immutable_es.Map)((0,objectSpread2.Z)((0,objectSpread2.Z)({},customBlockStyleRenderMap),blockStyleRenderMap)))}),[blockStyleRenderMap]),_useState5=(0,react.useState)((function(){var contentState=(0,Draft.convertFromRaw)(content);return Draft.EditorState.createWithContent(contentState,decorators)})),_useState6=(0,slicedToArray.Z)(_useState5,2),editorState=_useState6[0],setEditorState=_useState6[1],customBlocks=(0,react.useMemo)((function(){var _Object$keys;return null===(_Object$keys=Object.keys(blockRenderMap))||void 0===_Object$keys?void 0:_Object$keys.map((function(blockType){return{type:blockType,component:withBlockAdapter(blockRenderMap[blockType],{isDisabled,blockType}),editable:!1}}))}),[blockRenderMap,isDisabled]),blockRenderer=(0,react.useCallback)((function(block){return customBlocks.find((function(customBlock){return customBlock.type===block.getType()}))}),[customBlocks]),toggleHasBlock=(0,react.useCallback)((function(newEditorState){var currentBlockType=getBlockType(newEditorState);setHasBlock(currentBlockType!==BlockTypes.P.UNSTYLED)}),[setHasBlock]),handleChangeState=(0,react.useCallback)((function(newEditorState){if(toggleHasBlock(newEditorState),setEditorState(newEditorState),onChange){var currentContent=newEditorState.getCurrentContent();onChange((0,Draft.convertToRaw)(currentContent))}}),[onChange,toggleHasBlock]),handlePastedText=(0,react.useCallback)((function(text){var textState=Draft.ContentState.createFromText(text),newState=Draft.Modifier.replaceWithFragment(editorState.getCurrentContent(),editorState.getSelection(),textState.getBlockMap()),newEditorState=Draft.EditorState.push(editorState,newState,ChangeTypes_ChangeTypes.INSERT_FRAGMENT);return handleChangeState(newEditorState),HandledTypes.HANDLED}),[editorState,handleChangeState]),handleKeyCommand=(0,react.useCallback)((function(command){var currentBlock=getCurrentBlock(editorState);if(command===KeyCommands_DELETE){var nextBlock=function getNextBlock(editorState){var blockMap=editorState.getCurrentContent().getBlockMap(),blockKey=getCurrentBlock(editorState).getKey(),index=blockMap.keySeq().findIndex((function(k){return k===blockKey}));return blockMap.toList().get(index+1)}(editorState),endOffset=editorState.getSelection().getEndOffset();if(currentBlock.getLength()===endOffset&&blockKeys.includes(null==nextBlock?void 0:nextBlock.getType())&&nextBlock)return handleChangeState(removeBlock(editorState,nextBlock)),HandledTypes.HANDLED}if(command===KeyCommands_BACKSPACE&&currentBlock.getType()===BlockTypes.P.UNSTYLED){var prevBlock=function getPrevBlock(editorState){var blockMap=editorState.getCurrentContent().getBlockMap(),blockKey=getCurrentBlock(editorState).getKey(),index=blockMap.keySeq().findIndex((function(k){return k===blockKey}));return blockMap.toList().get(index-1)}(editorState),startOffset=editorState.getSelection().getStartOffset();if((0===currentBlock.getLength()||0===startOffset)&&prevBlock&&blockKeys.includes(null==prevBlock?void 0:prevBlock.getType()))return handleChangeState(removeBlock(editorState,prevBlock)),HandledTypes.HANDLED}var newState=Draft.RichUtils.handleKeyCommand(editorState,command);return newState?(handleChangeState(newState),HandledTypes.HANDLED):HandledTypes.NOT_HANDLED}),[blockKeys,editorState,handleChangeState]),handleReturn=(0,react.useCallback)((function(e){if(Draft.KeyBindingUtil.isSoftNewlineEvent(e))return handleChangeState(Draft.RichUtils.insertSoftNewline(editorState)),HandledTypes.HANDLED;var currentBlock=getCurrentBlock(editorState),blockType=currentBlock.getType();if(!e.altKey&&!e.metaKey&&!e.ctrlKey){if(0!==currentBlock.getLength()){var selection=editorState.getSelection(),continuousBlocks=[BlockTypes.P.BLOCKQUOTE,BlockTypes.P.CONCLUSION,BlockTypes.P.H1,BlockTypes.P.H2,BlockTypes.P.H3,BlockTypes.P.H4,BlockTypes.P.H5,BlockTypes.P.H6];return selection.isCollapsed()&&currentBlock.getLength()===selection.getStartOffset()&&continuousBlocks.includes(blockType)?(handleChangeState(function addNewBlockAt(editorState,pivotBlockKey){var newBlockType=arguments.length>2&&void 0!==arguments[2]?arguments[2]:BlockTypes.P.UNSTYLED,initialData=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},content=editorState.getCurrentContent(),blockMap=content.getBlockMap(),block=blockMap.get(pivotBlockKey);if(!block)throw new Error("The pivot key - ".concat(pivotBlockKey," is not present in blockMap."));var blocksBefore=blockMap.toSeq().takeUntil((function(v){return v===block})),blocksAfter=blockMap.toSeq().skipUntil((function(v){return v===block})).rest(),newBlockKey=(0,Draft.genKey)(),newBlock=new Draft.ContentBlock({key:newBlockKey,type:newBlockType,text:"",characterList:(0,immutable_es.List)(),depth:0,data:(0,immutable_es.Map)(initialData)}),newBlockMap=blocksBefore.concat([[pivotBlockKey,block],[newBlockKey,newBlock]],blocksAfter).toOrderedMap(),selection=editorState.getSelection(),newContentState=content.merge({blockMap:newBlockMap,selectionBefore:selection,selectionAfter:selection.merge({anchorKey:newBlockKey,anchorOffset:0,focusKey:newBlockKey,focusOffset:0,isBackward:!1})});return Draft.EditorState.push(editorState,new Draft.ContentState(newContentState),"split-block")}(editorState,currentBlock.getKey())),HandledTypes.HANDLED):HandledTypes.NOT_HANDLED}switch(blockType){case BlockTypes.P.UL:case BlockTypes.P.OL:case BlockTypes.P.BLOCKQUOTE:case BlockTypes.P.CONCLUSION:case BlockTypes.P.H1:case BlockTypes.P.H2:case BlockTypes.P.H3:case BlockTypes.P.H4:case BlockTypes.P.H5:case BlockTypes.P.H6:return handleChangeState(resetBlockWithType(editorState,BlockTypes.P.UNSTYLED)),HandledTypes.HANDLED;default:return HandledTypes.NOT_HANDLED}}return HandledTypes.NOT_HANDLED}),[editorState,handleChangeState]),handleBeforeInput=(0,react.useCallback)((function(){var _exec$groups,_exec$groups2,block=getCurrentBlock(editorState),blockType=block.getType();if(blockType!==BlockTypes.P.UNSTYLED)return HandledTypes.NOT_HANDLED;var exec=(0,wrapRegExp.Z)(/^([0-9#*>\-=. ]{0,6})([\s\S]*)/,{key:1,text:2}).exec(block.getText()),stringToTypeMapKey=null==exec||null===(_exec$groups=exec.groups)||void 0===_exec$groups?void 0:_exec$groups.key,blockTo=ShortcutKeys[stringToTypeMapKey];if(!blockTo||blockType!==BlockTypes.P.UNSTYLED)return HandledTypes.NOT_HANDLED;var newEditorState=resetBlockWithType(editorState,blockTo,{text:null==exec||null===(_exec$groups2=exec.groups)||void 0===_exec$groups2?void 0:_exec$groups2.text});return handleChangeState(newEditorState),HandledTypes.HANDLED}),[editorState,handleChangeState]),setEditorFocus=(0,react.useCallback)((function(){null!=editorRef&&editorRef.current&&setTimeout((function(){var _editorRef$current;null==editorRef||null===(_editorRef$current=editorRef.current)||void 0===_editorRef$current||_editorRef$current.focus()}),0)}),[editorRef]),inlineToolbar=useInlineToolbar_useInlineToolbar({editorRef,isReadOnly,editorState,setEditorFocus,blockKeys,availableButtons:inlineToolbarAvailableButtons,setEditorState:handleChangeState,render:renderInlineToolbar}),blockToolbar=useBlockToolbar_useBlockToolbar({editorRef,isReadOnly:isReadOnly||!isShowBlockToolbar,editorState,setEditorFocus,blockRenderMap,setEditorState:handleChangeState,render:renderBlockToolbar}),editorHookValue=(0,react.useMemo)((function(){return{isReadOnly,isDisabled,setReadOnly,editorState,editorRef,setEditorFocus,handleChangeState,mergeEntityMap}}),[setEditorFocus,editorState,handleChangeState,isReadOnly,isDisabled,mergeEntityMap]);return(0,react.useEffect)((function(){var _editorRef$current2;isAutoFocus&&(null===(_editorRef$current2=editorRef.current)||void 0===_editorRef$current2||_editorRef$current2.focus())}),[isAutoFocus]),(0,react.useEffect)((function(){setReadOnly(isDisabled)}),[isDisabled]),(0,jsx_runtime.jsx)(context.Z.Provider,{value:editorHookValue,children:(0,jsx_runtime.jsx)(Container,{className:"Editor-root",maxHeight,isShowAside:(null==blockKeys?void 0:blockKeys.length)>0&&!isDisabled&&isShowBlockToolbar,children:(0,jsx_runtime.jsxs)(Placeholder,{isShow:!hasBlock,children:[(0,jsx_runtime.jsx)(Draft.Editor,{ref:editorRef,placeholder,readOnly:isReadOnly,editorState,blockRendererFn:blockRenderer,customStyleMap:mergeInlineStyleMap,blockRenderMap:mergeStyleBlockRenderMap,handleReturn,handlePastedText,handleKeyCommand,handleBeforeInput,onChange:handleChangeState}),inlineToolbar,(null==blockKeys?void 0:blockKeys.length)>0&&blockToolbar]})})})};const Editor_Editor=(0,react.memo)(withCustomTheme(withContentAdapter_withContentAdapter(Editor)));try{Editor.displayName="Editor",Editor.__docgenInfo={description:"",displayName:"Editor",props:{isDisabled:{defaultValue:{value:"false"},description:"",name:"isDisabled",required:!1,type:{name:"boolean"}},isAutoFocus:{defaultValue:{value:"false"},description:"",name:"isAutoFocus",required:!1,type:{name:"boolean"}},maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"number"}},isShowBlockToolbar:{defaultValue:{value:"true"},description:"",name:"isShowBlockToolbar",required:!1,type:{name:"boolean"}},placeholder:{defaultValue:{value:"Начните вводить текст"},description:"",name:"placeholder",required:!1,type:{name:"string"}},content:{defaultValue:{value:"{\n        blocks: [],\n        entityMap: {},\n    }"},description:"",name:"content",required:!1,type:{name:"RawDraftContentState"}},onChange:{defaultValue:{value:"() => {}"},description:"",name:"onChange",required:!1,type:{name:"((blocks: RawDraftContentState) => void)"}},entityMap:{defaultValue:{value:"{}"},description:"",name:"entityMap",required:!1,type:{name:"EntityMapType"}},inlineStyleMap:{defaultValue:{value:"{}"},description:"",name:"inlineStyleMap",required:!1,type:{name:"InlineStyleMapType"}},blockStyleRenderMap:{defaultValue:{value:"{}"},description:"",name:"blockStyleRenderMap",required:!1,type:{name:"BlockStyleRenderMapType"}},blockRenderMap:{defaultValue:{value:"{}"},description:"",name:"blockRenderMap",required:!1,type:{name:"EditorBlockConfigMapType"}},inlineToolbarAvailableButtons:{defaultValue:{value:"[]"},description:"",name:"inlineToolbarAvailableButtons",required:!1,type:{name:"EditorAllowTypes[]"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"ThemeOptions"}},renderInlineToolbar:{defaultValue:{value:"({\n        selectedButtons,\n        availableButtons,\n        onToggle,\n    }) => (\n      <InlineToolbar\n        availableButtons={availableButtons}\n        selectedButtons={selectedButtons}\n        onToggle={onToggle}\n      />\n    )"},description:"",name:"renderInlineToolbar",required:!1,type:{name:"((props: UseInlineToolbarRenderPropsType) => ReactElement<any, string | JSXElementConstructor<any>>)"}},renderBlockToolbar:{defaultValue:{value:"({\n        onClick,\n        buttons,\n    }) => (\n      <BlockToolbar\n        buttons={buttons}\n        onClick={onClick}\n      />\n    )"},description:"",name:"renderBlockToolbar",required:!1,type:{name:"((props: UseBlockToolbarRenderPropsType) => ReactElement<any, string | JSXElementConstructor<any>>)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Editor/Editor.tsx#Editor"]={docgenInfo:Editor.__docgenInfo,name:"Editor",path:"src/components/Editor/Editor.tsx#Editor"})}catch(__react_docgen_typescript_loader_error){}}}]);